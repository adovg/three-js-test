window.onload=(()=>{});let createScale=()=>{let e=document.getElementById("scale").value;return[e[0],e[1],e[2]]},choseFigure=()=>{let e=document.getElementById("figure-list").value;"Sphere"==e?generateSphere(width,height):"Pyramid"==e?generatePyramid(width,height):"Cube"==e?generateCube(width,height):alert("Выберите фигуру")},width=window.innerWidth,height=window.innerHeight,canvas=document.getElementById("canvas");canvas.setAttribute("width",width),canvas.setAttribute("height",height);const renderer=new THREE.WebGLRenderer({canvas:canvas});renderer.setClearColor(0);const scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(45,width/height,.1,5e3);camera.position.set(0,0,1e3);let light=new THREE.AmbientLight(16777215);function generateSphere(e,n){let t=new THREE.SphereGeometry(200,120,120),i=new THREE.MeshNormalMaterial,r=new THREE.Mesh(t,i),a=createScale();r.scale.set(a[0],a[1],a[0]),r.position.x=Math.random()*e-n,r.position.y=Math.random()*e-n,r.position.z=Math.random()*e-n,function(){let e=document.createElement("p");e.classList.add("item-uuid"),e.style.cursor="pointer",e.innerHTML=r.uuid;let n=document.getElementById("element-uuid");n.appendChild(e),e.onclick=(()=>{for(let t=0;t<=scene.children.length;t++)r.uuid==scene.children[t].uuid&&(scene.remove(scene.children[t]),n.removeChild(e))})}(),scene.add(r),function e(){r.rotation.x+=.001,renderer.render(scene,camera),requestAnimationFrame(()=>{e()})}()}function generateCube(e,n){const t=new THREE.BoxGeometry(300,300,300),i=new THREE.MeshNormalMaterial,r=new THREE.Mesh(t,i);scene.add(r),r.position.x=Math.random()*e-n,r.position.y=Math.random()*e-n,r.position.z=Math.random()*e-n;let a=createScale();r.scale.set(a[0],a[1],a[0]),function e(){renderer.render(scene,camera),requestAnimationFrame(()=>{e()})}();let d=document.createElement("p");d.classList.add("item-uuid"),d.style.cursor="pointer",d.innerHTML=r.uuid;let c=document.getElementById("element-uuid");c.appendChild(d),d.onclick=(()=>{for(let e=0;e<=scene.children.length;e++)r.uuid==scene.children[e].uuid&&(scene.remove(scene.children[e]),c.removeChild(d))})}function generatePyramid(e,n){const t=new THREE.ConeGeometry(200,300,3),i=new THREE.MeshNormalMaterial,r=new THREE.Mesh(t,i);scene.add(r),r.position.x=Math.random()*e-n,r.position.y=Math.random()*e-n,r.position.z=Math.random()*e-n;let a=createScale();cube.scale.set(a[0],a[1],a[0]),function(){let e=document.createElement("p");e.classList.add("item-uuid"),e.style.cursor="pointer",e.innerHTML=r.uuid;let n=document.getElementById("element-uuid");n.appendChild(e),e.onclick=(()=>{for(let t=0;t<=scene.children.length;t++)r.uuid==scene.children[t].uuid&&(scene.remove(scene.children[t]),n.removeChild(e))})}(),function e(){r.rotation.y+=.001,renderer.render(scene,camera),requestAnimationFrame(()=>{e()})}()}scene.add(light);